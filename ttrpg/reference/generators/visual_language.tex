% ============================
% Fate’s Edge — Generator Visual Language (SRD-aligned)
% Provides a standardized, fast-look format and LaTeX macros.
% ============================

\section*{Generator Visual Language}
\subsection*{Goals}
\begin{itemize}
\item \textbf{Fast lookup:} GM pulls a card, scans for \emph{Suit + Face}, then reads results.
\item \textbf{Clear hierarchy:} \emph{Suit glyph + Face} prominent; then \emph{(Major Social Escalation)} tag if present; then \emph{title}; then \emph{descriptive text} for re-interpretation or flavor.
\item \textbf{Consistent icons & color:} Spades=places, Hearts=actors, Clubs=pressure, Diamonds=rights/exception.
\item \textbf{Compact pages:} two-column printable sheets; screen-friendly single-column variant.
\end{itemize}

\subsection*{Suit Visuals}
\begin{itemize}
\item \textbf{Spade (Places):} \color{black} glyph \SuitSpade{}; header bar \texttt{spade}_color.
\item \textbf{Heart (Actors):} \color{red} glyph \SuitHeart{}; header bar \texttt{heart}_color.
\item \textbf{Club (Pressure):} \color{green!40!black} glyph \SuitClub{}; header bar \texttt{club}_color.
\item \textbf{Diamond (Rights):} \color{orange!70!black} glyph \SuitDiamond{}; header bar \texttt{diamond}_color.
\end{itemize}

\subsection*{Hierarchy and Read Order}
\begin{enumerate}
\item \textbf{Suit + Face (big):} e.g., \SuitSpade{} \Large J.
\item \textbf{Tag (if any):} \textbf{(Major Social Escalation)} appears \emph{before} title and text.
\item \textbf{Title:} one-line hook for what happens; encourages quick reframing.
\item \textbf{Descriptive Text:} flavorful paraphrase and cues.
\end{enumerate}

\subsection*{Page Patterns}
\begin{itemize}
\item \textbf{Quicklist (2-up columns):} rows with oversized Suit+Face at left, text at right.
\item \textbf{Card blocks (screen/handout):} tcolorbox cards with suit-colored bars and callouts.
\end{itemize}

% ============================
% MACROS
% ============================
\subsection*{LaTeX Macros}
\noindent Add these to the generator files (requires \texttt{tcolorbox}, \texttt{xparse}, \texttt{ifthen}, \texttt{tabularx}).

\begin{verbatim}
% ---- Packages (in preamble) ----
\usepackage{tcolorbox,xparse,ifthen,tabularx}
\tcbuselibrary{skins,breakable}

% ---- Colors ----
\definecolor{spade_color}{RGB}{30,30,30}
\definecolor{heart_color}{RGB}{180,30,30}
\definecolor{club_color}{RGB}{20,110,50}
\definecolor{diamond_color}{RGB}{195,120,20}
\definecolor{major_tag}{RGB}{180,90,0}
\definecolor{minor_tag}{RGB}{90,90,90}

% ---- Suit bar selector ----
\newcommand{\suitbar}[1]{%
\ifthenelse{\equal{#1}{Spade}}{\color{spade_color}}{}%
\ifthenelse{\equal{#1}{Heart}}{\color{heart_color}}{}%
\ifthenelse{\equal{#1}{Club}}{\color{club_color}}{}%
\ifthenelse{\equal{#1}{Diamond}}{\color{diamond_color}}{}%
}

% ---- Suit glyph selector (assumes Suit commands exist) ----
\newcommand{\suitglyph}[1]{%
\ifthenelse{\equal{#1}{Spade}}{\SuitSpade{}}{}%
\ifthenelse{\equal{#1}{Heart}}{\SuitHeart{}}{}%
\ifthenelse{\equal{#1}{Club}}{\SuitClub{}}{}%
\ifthenelse{\equal{#1}{Diamond}}{\SuitDiamond{}}{}%
}

% ---- Tag chip ----
\NewDocumentCommand{\Tag}{m}{\textbf{#1}}
\newcommand{\MajorTag}{\textcolor{major_tag}{\Tag{(Major Social Escalation)}}}
\newcommand{\MinorTag}{\textcolor{minor_tag}{\Tag{(Minor Shift)}}}

% ---- Generator Card (screen/handout) ----
% Usage: \GenCard{Suit}{Face}{Title}{Text}{major? (true/false)}
\NewDocumentEnvironment{GenCard}{m m m m m}{%
\begin{tcolorbox}[enhanced,breakable,sharp corners,boxrule=.6pt,
borderline west={3pt}{0pt}{\suitbar{#1}},
colback=white, colframe=black, left=6pt,right=6pt,top=4pt,bottom=4pt]
\noindent\begin{tabularx}{\linewidth}{@{}lX@{}}
{\suitglyph{#1} \Large\bfseries, #2} & \ifthenelse{\equal{#5}{true}}{\MajorTag{} }{} \
\multicolumn{2}{@{}l@{}}{\textbf{#3}} \
\multicolumn{2}{@{}X@{}}{#4}
\end{tabularx}
}{\end{tcolorbox}}

% ---- Quicklist row (compact 2-column print) ----
% Usage: \GenRow{Suit}{Face}{Title}{Text}{major?}
\newcommand{\GenRow}[5]{%
{\suitglyph{#1} \bfseries #2}\hspace{0.5em}%
\ifthenelse{\equal{#5}{true}}{\textcolor{major_tag}{\Tag{(Major Social Escalation)}}\ }{}%
\textbf{#3}\ —\ #4[2pt]
}

% ---- Quicklist section helper ----
% Usage: \GenSection{Suit}{Heading}{ body with \GenRow... }
\NewDocumentEnvironment{GenSection}{m m}{%
\paragraph*{\suitglyph{#1}\ \textbf{#2}}\mbox{}[-4pt]
\begin{minipage}{\linewidth}
}{\end{minipage}}
\end{verbatim}

\subsection*{Production Patterns}
\begin{enumerate}
\item \textbf{Screen handout:} use \texttt{GenCard} in a single column.
\item \textbf{Print quicklist:} two columns; repeat \texttt{GenRow} under \texttt{GenSection} per Suit.
\item \textbf{Ordering:} list 2–10, then J, Q, K, A.
\item \textbf{Tagging:} apply \texttt{true} for entries that are or cause \emph{Major Social Escalation}. Leave others untagged or use \texttt{\MinorTag} callouts inside text if needed.
\end{enumerate}

\section*{Worked Example (Acasia excerpts)}
\subsection*{Quicklist Variant}
\begin{multicols}{2}
\begin{GenSection}{Spade}{Spades — Places}
\GenRow{Spade}{J}{Iron mine adits held by a miners' commune}{Air full of whispers.}{false}
\GenRow{Spade}{A}{Sootfall Abbey crypts breathe}{Ominous drafts from below; bells remember old names.}{false}
\end{GenSection}

\begin{GenSection}{Heart}{Hearts — Actors}
\GenRow{Heart}{J}{Heretic preacher sparks a march}{Toll-gates come down in splinters.}{true}
\GenRow{Heart}{Q}{Margravine of the Broken March}{Half-saint, half tax-roll; petitions gather.}{false}
\end{GenSection}

\begin{GenSection}{Club}{Clubs — Pressure}
\GenRow{Club}{10}{Condotta breaks mid-march}{Free Company flips colors.}{true}
\end{GenSection}
\end{multicols}

\subsection*{Card Block Variant}
\begin{GenCard}{Heart}{J}{Heretic preacher sparks a march}{\emph{(Major Social Escalation)} Crowds swell; demands spread from tithes to law. If you stand aside, a gate opens; if you resist, DV +1 and new \emph{Inspection} clock.}{true}

\begin{GenCard}{Club}{10}{Condotta breaks}{Mercenaries switch banners at noon muster; escorts evaporate. Treat all port checks as \emph{Risky} until you secure new papers.}{true}

\begin{GenCard}{Spade}{A}{The crypts breathe under Sootfall Abbey}{Ashy drafts whisper through grates; any \textbf{A} echoes later as an omen.}{false}

% Notes: In the Card variant the Major tag is also printed inline at top by macro; flavor text leads re-interpretation.

